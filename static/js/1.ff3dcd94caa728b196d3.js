webpackJsonp([1],{"5z7u":function(t,e){},FF3V:function(t,e,a){"use strict";var n=a("vLgD"),r={GET:"/notebooks",ADD:"/notebooks",UPDATE:"/notebooks/:notebookId",DELETE:"/notebooks/:notebookId"};e.a={getAll:function(){return Object(n.a)(r.GET)},add:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:""}).title,e=void 0===t?"":t;return Object(n.a)(r.ADD,"POST",{title:e})},update:function(t,e){var a=e.title,o=void 0===a?"":a;return Object(n.a)(r.UPDATE.replace(":notebookId",t),"PATCH",{title:o})},delete:function(t){return Object(n.a)(r.DELETE.replace(":notebookId",t),"DELETE")}}},sf1W:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("FF3V"),r={data:function(){return{searchMessage:"",tableData:[],currentPage:1,pageSize:10}},filters:{pagination:function(t,e,a,n){var r=(a-1)*n;return r+n>=t.length?t.filter(function(t){return!e||t.title.toLowerCase().includes(e.toLowerCase())}).slice(r,t.length):t.filter(function(t){return!e||t.title.toLowerCase().includes(e.toLowerCase())}).slice(r,r+n)},total:function(t,e){return t.filter(function(t){return!e||t.title.toLowerCase().includes(e.toLowerCase())}).length||0}},created:function(){var t=this;n.a.getAll().then(function(e){console.log(e),t.tableData=e.data.reverse()})},methods:{addNotebook:function(){var t=this;this.$prompt("请输入笔记本标题",{title:"新建笔记"}).then(function(e){var a=e.value;n.a.add({title:a}).then(function(e){t.$message.success("创建成功"),n.a.getAll().then(function(e){t.tableData=e.data.reverse()})})})},handleEdit:function(t){var e=this;this.$prompt("请输入笔记本标题",{title:"修改笔记"}).then(function(a){var r=a.value;n.a.update(t,{title:r}).then(function(a){e.$message.success("修改成功"),e.tableData.filter(function(e){return e.id===t})[0].title=r}).catch(function(t){e.$message.warning(t.msg)})})},handleDelete:function(t){var e=this;n.a.delete(t).then(function(a){e.$message.success("删除成功"),e.tableData=e.tableData.filter(function(e){return e.id!==t})}).catch(function(t){e.$message.warning(t.msg)})},handleCurPageChange:function(t){this.currentPage=t}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notebooks"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-document"}),t._v(" 笔记本")])],1)],1),t._v(" "),a("div",{staticClass:"container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.addNotebook}},[t._v("新建笔记本")]),t._v(" "),a("el-input",{staticStyle:{width:"300px",float:"right"},attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:t.searchMessage,callback:function(e){t.searchMessage=e},expression:"searchMessage"}})],1),t._v(" "),a("br"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t._f("pagination")(t.tableData,t.searchMessage,t.currentPage,t.pageSize),border:!0}},[a("el-table-column",{attrs:{prop:"title",align:"center",label:"笔记名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",align:"center",label:"创建日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"noteCounts",align:"center",label:"笔记数"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"笔记数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{background:"",align:"right","page-size":t.pageSize,layout:"prev, pager, next",total:t._f("total")(t.tableData,t.searchMessage)},on:{"current-change":t.handleCurPageChange}})],1)])},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(t){a("5z7u")},"data-v-558f096f",null);e.default=i.exports}});
//# sourceMappingURL=1.ff3dcd94caa728b196d3.js.map